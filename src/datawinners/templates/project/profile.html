{% extends 'step_wizard.html' %}

{% block page_title %} Define Project {% endblock %}

{% load dw_tabs %}
{% block body %}
{% activetab "main_nav" "projects" %}
{{ block.super }}
{% endblock %}

{% block page_scss %}
    {{ block.super }}
    <link href="/media/css/scss/section_define_project.scss" rel="stylesheet" />
{% endblock %}

{% block page_js %}
    {{ block.super }}
    <script type="text/javascript" src="/media/javascript/csrf_token_handler.js"></script>
    <script type="text/javascript" src="/media/javascript/project/project_profile.js"></script>
    <script type="text/javascript" src="/media/javascript/entity/create_type.js"></script>
{% endblock %}

{% block step_number %}
    <h3>Step 1:
        Define Project</h3>
    <p>Fill out the following information to create your project</p>
{% endblock %}
{% block content %}
    <form action="" method="POST" id="profile_form">
    <div class="define_project">
        {% csrf_token %}
        {% if messages %}
            <div class="message-box">
                {% for message in messages %}
                    <span>{{ message }}</span>
                {% endfor %}
            </div>
        {% endif %}
        <ul>
            <fieldset>
                <legend>Background</legend>
            <li class="{{ form.name.css_classes  }} form-row-10px">
                {{ form.name.label_tag }}
                {{ form.name }}
                {{ form.name.errors }}
                <img src="/media/images/help_icon.png" class="help_icon">
                <div class="tooltip"><p>
                    <strong>What is this?</strong><br />
                    DataWinners stores projects by the <strong>Project Name</strong>. It is important to give each of
                    your projects a separate name so when you have many projects running at the same time you
                    can easily track each project.<br /><br />
                    <strong>What do I need to do?</strong><br />
                    Name your project by typing a short descriptive phrase in the Name this Project box. Don't worry,
                    you can always edit your project name later.
                </p></div>
            </li>
            <li class="{{ form.project_type.css_classes  }} form-row-10px">
                {{ form.project_type.label_tag }}
                {{ form.project_type }}
                {{ form.project_type.errors }}
                <img src="/media/images/help_icon.png" class="help_icon" style="margin-top:-6px;">
                <div class="tooltip"><p>
                    <strong>What is this?</strong><br />
                    DataWinners offers two <strong>Project Types</strong>. You can collect data from people by choosing
                    the <strong>Data Collection</strong> option. Or, you can send messages to people by choosing
                    <strong>Public Communication</strong>.<br /><br />
                    <strong>What do I need to do?</strong><br />
                    Click the radio button next the <strong>Project Type</strong> you are creating. We will provide
                    step-by-step instructions for your choice. Don't worry, you can always change your mind later.
                </p></div>
            </li>
            <li class="{{ form.goals.css_classes  }} form-row-10px first">
                {{ form.goals.label_tag }}
                {{ form.goals }}
                {{ form.goals.errors }}
            </li>
            </fieldset>
            <fieldset>
                <legend>Subjects and Questionnaire</legend>
            <li class="{{ form.activity_report.css_classes  }} form-row-10px" id ="about_questionnaire">
                {{ form.activity_report.label_tag }}
                {{ form.activity_report }}
                {{ form.activity_report.errors }}
                <img src="/media/images/help_icon.png" class="help_icon" style="margin-top:-6px;">
                <div class="tooltip"><p>
                    <strong>What is this?</strong><br />
                    <strong>Subjects</strong> are very important. They are the topic of your data collection
                    questionnaires. Subjects are often <strong>people</strong> (patients, farmers, children under five)
                    or <strong>things</strong> (health clinics, retail shops, water points). Subjects can also be people
                    who send you their monthly activity reports.<br /><br />
                    <strong>What do I need to do?</strong><br />
                    Click one of the radio buttons to tell us the subject of your questionnaire. DataWinners will
                    provide you the step-by-step instructions for your choice. Don’t worry, you can always decide
                    or change your mind later.
                </p></div>
            </li>
            <li class="{{ form.entity_type.css_classes  }} form-row-10px">
                {{ form.entity_type.label_tag }}
                {{ form.entity_type }}
                {{ form.entity_type.errors }}
                {% include 'entity/create_type.html' %}
            </li>

            <li class="{{ form.devices.css_classes  }} form-row-10px">
                {{ form.devices.label_tag }}
                {{ form.devices }}
                {{ form.devices.errors }}
                <img src="/media/images/help_icon.png" class="help_icon" style="margin-top:-6px;">
                <div class="tooltip"><p>
                    <strong>What is this?</strong><br />
                    Devices are important because you can choose the <strong>communication channel</strong> people will use to
                    send you your data. Your choice depends on two questions: 1) How much data do you need to collect
                    and 2) what devices do people already have. A good general rule is you can collect answers for
                    about 15 questions using SMS. For more extensive data collection needs in the field, we recommend
                    using a smart phone with the Android Operating system. If you have regional offices with good
                    internet connectivity, you can also create your own online form.<br /><br />
                    <strong>What do I need to do?</strong><br />
                    Choose one, two or all three channels by clicking on the boxes. Don't worry, you can always
                    change your mind later.
                </p></div>
            </li>
            </fieldset>
             <fieldset>
                <legend>Data Senders</legend>
            <li class="{{ form.sender_group.css_classes  }} form-row-10px">
                {{ form.sender_group.label_tag }}
                {{ form.sender_group }}
                {{ form.sender_group.errors }}
                <img src="/media/images/help_icon.png" class="help_icon" style="margin-top:-6px;">
                <div class="tooltip"><p>
                <strong>What is this?</strong><br />
                DataWinners allows you to chose who you collect your data from. With Open Data Sender Groups anyone can
                send you data if you provide them your phone number.  With Closed Data Sender Groups only those people
                who you register will be able to send data to your number.<br /><br />
                <strong>What do I need to do?</strong><br />
                Click the radio button next to your choice. Don’t worry, you can always change your mind later.
            </li>
             </fieldset>
            <fieldset>
                <legend>When do we need the data</legend>
                <li class="{{ form.frequency_period.css_classes  }} form-row-10px">
                    {{ form.frequency_period.label_tag }}
                    {{ form.frequency_period }}
                    {{ form.frequency_period.errors }}
                </li>
                <li class="{{ form.has_deadline.css_classes  }} form-row-10px">
                    {{ form.has_deadline.label_tag }}
                    {{ form.has_deadline }}
                    {{ form.has_deadline.errors }}
                </li>
                <li class="{{ form.deadline_day.css_classes  }} form-row-10px">
                    {{ form.deadline_day.label_tag }}
                    {{ form.deadline_day}}
                    {{ form.deadline_day.errors }}
                </li>
                <li class="{{ form.deadline_type.css_classes  }} form-row-10px">
                    {{ form.deadline_type.label_tag }}
                    {{ form.deadline_type}} <span id="span_deadline_type"></span>
                    {{ form.deadline_type.errors }}
                </li>
            </fieldset>
        </ul>
    {% if edit %}
    <div id="profile_warning_message">
        <p class="warning_message">Warning: Updating the associated type of the project questionnaire will remove all existing data.</p>
        <a href="#" class="cancel_link" >Cancel</a>
        <a href="#" class="button" id="continue">Continue</a>
    </div>
    {% endif %}
    </div>


{% endblock %}
{% block previous %}
{% endblock %}
{% block buttons %}
     <input id="submit-button" type="submit" value="Save & Create Project"/>
     <input id="submit_button_right" type="button" value=" "/>
{% endblock %}
</form>
