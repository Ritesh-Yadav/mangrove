{% extends 'layout.html' %}
{% block page_title %} Report on Clinic Data {% endblock %}
{% block content %}
<div class="span-18 box">
    <form action="" method="POST">
        {% csrf_token %}
        <div class="span-8 last">
            <div class="span-8">
                <div class="{{ form.aggregate_on_path.css_classes  }} form-row-10px">
                    {{ form.aggregate_on_path.label_tag }}
                    {{ form.aggregate_on_path }}
                    {{ form.aggregate_on_path.errors }}
                </div>
                <div class="{{ form.aggregates_field.css_classes  }} form-row-10px">
                    {{ form.aggregates_field.label_tag }}
                    {{ form.aggregates_field }}
                    {{ form.aggregates_field.errors }}
                </div>
                <div class="{{ form.reduce.css_classes  }} form-row-10px">
                    {{ form.reduce.label_tag }}
                    {{ form.reduce }}
                    {{ form.reduce.errors }}
                </div>
                <div class="{{ form.level.css_classes  }} form-row-10px">
                    {{ form.level.label_tag }}
                    {{ form.level }}
                    {{ form.level.errors }}
                </div>

                <div class="span-8">
                    <input type="submit" value="Report"/>
                </div>
            </div>
        </div>
    </form>

    <table>
        <tr>
            {% for header in data_set.column_headers%}
            <th>{{ header}}</th>
            {% endfor %}
        </tr>
        {% for row in data_set.values%}
        <tr>
            {% for data in row %}
            <td>{{ data }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}